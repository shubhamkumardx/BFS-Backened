import { FileRegistry } from './file';
import { SfdxRegistry } from './sfdx';
import { EmptyRegistry } from './empty';
import { getLogger } from '../util/logger';
var registry;
try {
  registry = process.env.JSFORCE_CONNECTION_REGISTRY === 'sfdx' ? new SfdxRegistry({}) : new FileRegistry({});
} catch (e) {
  getLogger('registry').error(e);
  registry = new EmptyRegistry();
}
export default registry;
export { FileRegistry, SfdxRegistry, EmptyRegistry };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJGaWxlUmVnaXN0cnkiLCJTZmR4UmVnaXN0cnkiLCJFbXB0eVJlZ2lzdHJ5IiwiZ2V0TG9nZ2VyIiwicmVnaXN0cnkiLCJwcm9jZXNzIiwiZW52IiwiSlNGT1JDRV9DT05ORUNUSU9OX1JFR0lTVFJZIiwiZSIsImVycm9yIl0sInNvdXJjZXMiOlsiLi4vLi4vc3JjL3JlZ2lzdHJ5L2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgUmVnaXN0cnkgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IEZpbGVSZWdpc3RyeSB9IGZyb20gJy4vZmlsZSc7XG5pbXBvcnQgeyBTZmR4UmVnaXN0cnkgfSBmcm9tICcuL3NmZHgnO1xuaW1wb3J0IHsgRW1wdHlSZWdpc3RyeSB9IGZyb20gJy4vZW1wdHknO1xuaW1wb3J0IHsgZ2V0TG9nZ2VyIH0gZnJvbSAnLi4vdXRpbC9sb2dnZXInO1xuXG5sZXQgcmVnaXN0cnk6IFJlZ2lzdHJ5O1xudHJ5IHtcbiAgcmVnaXN0cnkgPVxuICAgIHByb2Nlc3MuZW52LkpTRk9SQ0VfQ09OTkVDVElPTl9SRUdJU1RSWSA9PT0gJ3NmZHgnXG4gICAgICA/IG5ldyBTZmR4UmVnaXN0cnkoe30pXG4gICAgICA6IG5ldyBGaWxlUmVnaXN0cnkoe30pO1xufSBjYXRjaCAoZSkge1xuICBnZXRMb2dnZXIoJ3JlZ2lzdHJ5JykuZXJyb3IoZSk7XG4gIHJlZ2lzdHJ5ID0gbmV3IEVtcHR5UmVnaXN0cnkoKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgcmVnaXN0cnk7XG5leHBvcnQgdHlwZSB7IFJlZ2lzdHJ5IH07XG5leHBvcnQgeyBGaWxlUmVnaXN0cnksIFNmZHhSZWdpc3RyeSwgRW1wdHlSZWdpc3RyeSB9O1xuIl0sIm1hcHBpbmdzIjoiQUFDQSxTQUFTQSxZQUFZLFFBQVEsUUFBUTtBQUNyQyxTQUFTQyxZQUFZLFFBQVEsUUFBUTtBQUNyQyxTQUFTQyxhQUFhLFFBQVEsU0FBUztBQUN2QyxTQUFTQyxTQUFTLFFBQVEsZ0JBQWdCO0FBRTFDLElBQUlDLFFBQWtCO0FBQ3RCLElBQUk7RUFDRkEsUUFBUSxHQUNOQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsMkJBQTJCLEtBQUssTUFBTSxHQUM5QyxJQUFJTixZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FDcEIsSUFBSUQsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQzVCLENBQUMsQ0FBQyxPQUFPUSxDQUFDLEVBQUU7RUFDVkwsU0FBUyxDQUFDLFVBQVUsQ0FBQyxDQUFDTSxLQUFLLENBQUNELENBQUMsQ0FBQztFQUM5QkosUUFBUSxHQUFHLElBQUlGLGFBQWEsQ0FBQyxDQUFDO0FBQ2hDO0FBRUEsZUFBZUUsUUFBUTtBQUV2QixTQUFTSixZQUFZLEVBQUVDLFlBQVksRUFBRUMsYUFBYSIsImlnbm9yZUxpc3QiOltdfQ==